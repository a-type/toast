MATCH (`user`:`User` {id:$id})
RETURN `user` { .id ,group:
  head([(`user`)-[:`MEMBER_OF`]->(`user_group`:`Group`) | user_group { .id ,planDays:
    [(`user_group`)-[:`HAS_PLAN_DAY`]->(`user_group_planDays`:`PlanDay`) | user_group_planDays { .id , .date ,breakfast:
      [ user_group_planDays_breakfast IN apoc.cypher.runFirstColumn("MATCH (this)-[:HAS_PLAN_MEAL{meal:'breakfast'}]->(m:PlanMeal) RETURN m", {this: user_group_planDays, cypherParams: $cypherParams}, true) | user_group_planDays_breakfast { .id ,cooking:
        [(`user_group_planDays_breakfast`)-[`user_group_planDays_breakfast_cooking_relation`:`PLANS_TO_COOK`]->(:`Recipe`) | user_group_planDays_breakfast_cooking_relation { .servings ,recipe:
          head([(:`PlanMeal`)-[`user_group_planDays_breakfast_cooking_relation`]-(`user_group_planDays_breakfast_cooking_recipe`:`Recipe`) | user_group_planDays_breakfast_cooking_recipe { .id , .title , .attribution , .sourceUrl , .description ,coverImage:
            head([(`user_group_planDays_breakfast_cooking_recipe`)-[:`COVER_IMAGE`]->(`user_group_planDays_breakfast_cooking_recipe_coverImage`:`Image`) | user_group_planDays_breakfast_cooking_recipe_coverImage { .id , .url }])
          }])
        }] ,eating:
          [(`user_group_planDays_breakfast`)-[:`PLANS_TO_EAT`]->(`user_group_planDays_breakfast_eating`:`PlanMeal`) | user_group_planDays_breakfast_eating { .id ,cooking:
            [(`user_group_planDays_breakfast_eating`)-[`user_group_planDays_breakfast_eating_cooking_relation`:`PLANS_TO_COOK`]->(:`Recipe`) | user_group_planDays_breakfast_eating_cooking_relation { .servings ,recipe:
              head([(:`PlanMeal`)-[`user_group_planDays_breakfast_eating_cooking_relation`]-(`user_group_planDays_breakfast_eating_cooking_recipe`:`Recipe`) | user_group_planDays_breakfast_eating_cooking_recipe { .id , .title , .attribution , .sourceUrl , .description ,coverImage:
                head([(`user_group_planDays_breakfast_eating_cooking_recipe`)-[:`COVER_IMAGE`]->(`user_group_planDays_breakfast_eating_cooking_recipe_coverImage`:`Image`) | user_group_planDays_breakfast_eating_cooking_recipe_coverImage { .id , .url }])
              }])
            }]
          }]
        }] ,lunch: [ user_group_planDays_lunch IN apoc.cypher.runFirstColumn("MATCH (this)-[:HAS_PLAN_MEAL{meal:'lunch'}]->(m:PlanMeal) RETURN m", {this: user_group_planDays, cypherParams: $cypherParams}, true) | user_group_planDays_lunch { .id ,cooking:
          [(`user_group_planDays_lunch`)-[`user_group_planDays_lunch_cooking_relation`:`PLANS_TO_COOK`]->(:`Recipe`) | user_group_planDays_lunch_cooking_relation { .servings ,recipe:
            head([(:`PlanMeal`)-[`user_group_planDays_lunch_cooking_relation`]-(`user_group_planDays_lunch_cooking_recipe`:`Recipe`) | user_group_planDays_lunch_cooking_recipe { .id , .title , .attribution , .sourceUrl , .description ,coverImage:
              head([(`user_group_planDays_lunch_cooking_recipe`)-[:`COVER_IMAGE`]->(`user_group_planDays_lunch_cooking_recipe_coverImage`:`Image`) | user_group_planDays_lunch_cooking_recipe_coverImage { .id , .url }]) }]) }] ,eating:
                [(`user_group_planDays_lunch`)-[:`PLANS_TO_EAT`]->(`user_group_planDays_lunch_eating`:`PlanMeal`) | user_group_planDays_lunch_eating { .id ,cooking:
                  [(`user_group_planDays_lunch_eating`)-[`user_group_planDays_lunch_eating_cooking_relation`:`PLANS_TO_COOK`]->(:`Recipe`) | user_group_planDays_lunch_eating_cooking_relation { .servings ,recipe:
                    head([(:`PlanMeal`)-[`user_group_planDays_lunch_eating_cooking_relation`]-(`user_group_planDays_lunch_eating_cooking_recipe`:`Recipe`) | user_group_planDays_lunch_eating_cooking_recipe { .id , .title , .attribution , .sourceUrl , .description ,coverImage:
                      head([(`user_group_planDays_lunch_eating_cooking_recipe`)-[:`COVER_IMAGE`]->(`user_group_planDays_lunch_eating_cooking_recipe_coverImage`:`Image`) | user_group_planDays_lunch_eating_cooking_recipe_coverImage { .id , .url }])
                    }])
                  }]
                }]
              }] ,dinner: [ user_group_planDays_dinner IN apoc.cypher.runFirstColumn("MATCH (this)-[:HAS_PLAN_MEAL{meal:'dinner'}]->(m:PlanMeal) RETURN m", {this: user_group_planDays, cypherParams: $cypherParams}, true) | user_group_planDays_dinner { .id ,cooking:
                [(`user_group_planDays_dinner`)-[`user_group_planDays_dinner_cooking_relation`:`PLANS_TO_COOK`]->(:`Recipe`) | user_group_planDays_dinner_cooking_relation { .servings ,recipe:
                  head([(:`PlanMeal`)-[`user_group_planDays_dinner_cooking_relation`]-(`user_group_planDays_dinner_cooking_recipe`:`Recipe`) | user_group_planDays_dinner_cooking_recipe { .id , .title , .attribution , .sourceUrl , .description ,coverImage:
                    head([(`user_group_planDays_dinner_cooking_recipe`)-[:`COVER_IMAGE`]->(`user_group_planDays_dinner_cooking_recipe_coverImage`:`Image`) | user_group_planDays_dinner_cooking_recipe_coverImage { .id , .url }])
                  }])
                }] ,eating: [(`user_group_planDays_dinner`)-[:`PLANS_TO_EAT`]->(`user_group_planDays_dinner_eating`:`PlanMeal`) | user_group_planDays_dinner_eating { .id ,cooking:
                  [(`user_group_planDays_dinner_eating`)-[`user_group_planDays_dinner_eating_cooking_relation`:`PLANS_TO_COOK`]->(:`Recipe`) | user_group_planDays_dinner_eating_cooking_relation { .servings ,recipe:
                    head([(:`PlanMeal`)-[`user_group_planDays_dinner_eating_cooking_relation`]-(`user_group_planDays_dinner_eating_cooking_recipe`:`Recipe`) | user_group_planDays_dinner_eating_cooking_recipe { .id , .title , .attribution , .sourceUrl , .description ,coverImage:
                      head([(`user_group_planDays_dinner_eating_cooking_recipe`)-[:`COVER_IMAGE`]->(`user_group_planDays_dinner_eating_cooking_recipe_coverImage`:`Image`) | user_group_planDays_dinner_eating_cooking_recipe_coverImage { .id , .url }])
                    }])
                  }]
                }]
              }]
            }]
          }])
        } AS `user`
